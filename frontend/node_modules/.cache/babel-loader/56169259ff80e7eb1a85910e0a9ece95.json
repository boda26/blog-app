{"ast":null,"code":"var _jsxFileName = \"/Users/bodasong/Desktop/blog/blog-frontend/src/components/Posts/UpdatePost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport { Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport CategoriesOptions from \"../Categories/CategoryDropDown\";\nimport { fetchPostDetailAction, updatePostAction } from \"../../redux/slices/posts/postSlices\"; //validation\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formSchema = Yup.object({\n  title: Yup.string().required(\"Title is required\"),\n  description: Yup.string().required(\"Description is required\"),\n  category: Yup.object().required(\"Category is required\")\n});\nexport default function UpdatePost(props) {\n  _s();\n\n  var _formik$values$catego;\n\n  const {\n    computedMatch: {\n      params: {\n        id\n      }\n    }\n  } = props; //fetch the post in the url\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchPostDetailAction(id));\n  }, [id, dispatch]); //select post\n\n  const postData = useSelector(state => state.post);\n  const {\n    postDetails\n  } = postData;\n  console.log(postDetails); //formik\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: postDetails === null || postDetails === void 0 ? void 0 : postDetails.title,\n      description: postDetails === null || postDetails === void 0 ? void 0 : postDetails.description,\n      category: \"\"\n    },\n    onSubmit: values => {\n      const data = {\n        title: values.title,\n        description: values.description,\n        id\n      };\n      dispatch(updatePostAction(data));\n    },\n    validationSchema: formSchema\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:mx-auto sm:w-full sm:max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-6 text-center text-3xl font-extrabold text-gray-300\",\n          children: [\"Are you sure you want to edit\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-300\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: formik.hand,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"email\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"title\",\n                  name: \"title\",\n                  type: \"title\",\n                  autoComplete: \"title\",\n                  onBlur: formik.handleBlur(\"title\"),\n                  value: formik.values.title,\n                  onChange: formik.handleChange(\"title\"),\n                  className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-red-500\",\n                children: formik.touched.title && formik.errors.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CategoriesOptions, {\n              value: (_formik$values$catego = formik.values.category) === null || _formik$values$catego === void 0 ? void 0 : _formik$values$catego.categoryTitle,\n              onChange: formik.setFieldValue,\n              onBlur: formik.setFieldTouched,\n              error: formik.errors.category,\n              touched: formik.touched.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"5\",\n                cols: \"10\",\n                onBlur: formik.handleBlur(\"description\"),\n                value: formik.values.description,\n                onChange: formik.handleChange(\"description\"),\n                className: \"rounded-lg appearance-none block w-full py-3 px-3 text-base text-center leading-tight text-gray-600 bg-transparent focus:bg-transparent  border border-gray-200 focus:border-gray-500  focus:outline-none\",\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-red-500\",\n                children: formik.touched.description && formik.errors.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(UpdatePost, \"MO+Zck5bZELH/OqgxSPV114FNNo=\", false, function () {\n  return [useDispatch, useSelector, useFormik];\n});\n\n_c = UpdatePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePost\");","map":{"version":3,"names":["React","useEffect","useFormik","Redirect","useDispatch","useSelector","Yup","CategoriesOptions","fetchPostDetailAction","updatePostAction","formSchema","object","title","string","required","description","category","UpdatePost","props","computedMatch","params","id","dispatch","postData","state","post","postDetails","console","log","formik","enableReinitialize","initialValues","onSubmit","values","data","validationSchema","hand","handleBlur","handleChange","touched","errors","categoryTitle","setFieldValue","setFieldTouched"],"sources":["/Users/bodasong/Desktop/blog/blog-frontend/src/components/Posts/UpdatePost.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport { Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport CategoriesOptions from \"../Categories/CategoryDropDown\";\nimport { fetchPostDetailAction, updatePostAction } from \"../../redux/slices/posts/postSlices\";\n\n//validation\nconst formSchema = Yup.object({\n  title: Yup.string().required(\"Title is required\"),\n  description: Yup.string().required(\"Description is required\"),\n  category: Yup.object().required(\"Category is required\"),\n});\n\nexport default function UpdatePost(props) {\n  const {computedMatch: {params: {id}}} = props;\n\n  //fetch the post in the url\n  const dispatch = useDispatch();\n  useEffect(()=>{\n    dispatch(fetchPostDetailAction(id))\n  }, [id, dispatch])\n\n  //select post\n  const postData = useSelector(state => state.post);\n  const {postDetails} = postData\n  console.log(postDetails)\n\n  //formik\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: postDetails?.title,\n      description: postDetails?.description,\n      category: \"\",\n    },\n    onSubmit: (values) => {\n      const data = {\n        title: values.title,\n        description: values.description,\n        id,\n      };\n      dispatch(updatePostAction(data))\n    },\n    validationSchema: formSchema,\n  });\n\n  return (\n    <>\n      <div className=\"min-h-screen bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-300\">\n            Are you sure you want to edit{\" \"}\n            <span className=\"text-green-300\">Title</span>\n          </h2>\n        </div>\n\n        <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n          <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n            <form onSubmit={formik.hand} className=\"space-y-6\">\n              <div>\n                <label\n                  htmlFor=\"email\"\n                  className=\"block text-sm font-medium text-gray-700\"\n                >\n                  Title\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"title\"\n                    name=\"title\"\n                    type=\"title\"\n                    autoComplete=\"title\"\n                    onBlur={formik.handleBlur(\"title\")}\n                    value={formik.values.title}\n                    onChange={formik.handleChange(\"title\")}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                  />\n                </div>\n                <div className=\"text-red-500\">\n                  {formik.touched.title && formik.errors.title}\n                </div>\n              </div>\n\n              <CategoriesOptions\n                value={formik.values.category?.categoryTitle}\n                onChange={formik.setFieldValue}\n                onBlur={formik.setFieldTouched}\n                error={formik.errors.category}\n                touched={formik.touched.category}\n              />\n              <div>\n                <label\n                  htmlFor=\"password\"\n                  className=\"block text-sm font-medium text-gray-700\"\n                >\n                  Description\n                </label>\n                <textarea\n                  rows=\"5\"\n                  cols=\"10\"\n                  onBlur={formik.handleBlur(\"description\")}\n                  value={formik.values.description}\n                  onChange={formik.handleChange(\"description\")}\n                  className=\"rounded-lg appearance-none block w-full py-3 px-3 text-base text-center leading-tight text-gray-600 bg-transparent focus:bg-transparent  border border-gray-200 focus:border-gray-500  focus:outline-none\"\n                  type=\"text\"\n                ></textarea>\n                <div className=\"text-red-500\">\n                  {formik.touched.description && formik.errors.description}\n                </div>\n              </div>\n\n              <div>\n                <button\n                  type=\"submit\"\n                  className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                >\n                  Update\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}