{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { baseUrl } from '../../../utils/baseURL'; //action\n\nexport const createCategoryAction = createAsyncThunk('category/create', async (category, _ref) => {\n  var _getState;\n\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref;\n  //get user token\n  const user = (_getState = getState()) === null || _getState === void 0 ? void 0 : _getState.users;\n  const {\n    userAuth\n  } = user;\n  const config = {\n    headers\n  }; //http call\n\n  try {\n    const {\n      data\n    } = await axios.post(`${baseUrl}/api/category`, {\n      title: category === null || category === void 0 ? void 0 : category.title\n    });\n  } catch (error) {\n    var _error$response;\n\n    if (!(error !== null && error !== void 0 && error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n}); //slices\n\nconst categorySlices = createSlice({\n  name: 'category',\n  initialState: {\n    category: 'Node.js'\n  },\n  extraReducers: builder => {\n    builder.addCase(createCategoryAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(createCategoryAction.fulfilled, (state, action) => {\n      state.category = action === null || action === void 0 ? void 0 : action.payload;\n      state.loading = false;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(createCategoryAction.rejected, (state, action) => {\n      var _action$payload, _action$error;\n\n      state.loading = false;\n      state.appErr = action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.message;\n      state.serverErr = action === null || action === void 0 ? void 0 : (_action$error = action.error) === null || _action$error === void 0 ? void 0 : _action$error.message;\n    });\n  }\n});\nexport default categorySlices.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","baseUrl","createCategoryAction","category","rejectWithValue","getState","dispatch","user","users","userAuth","config","headers","data","post","title","error","response","categorySlices","name","initialState","extraReducers","builder","addCase","pending","state","action","loading","fulfilled","payload","appErr","undefined","serverErr","rejected","message","reducer"],"sources":["/Users/bodasong/Desktop/blog/blog-frontend/src/redux/slices/category/categorySlice.js"],"sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { baseUrl } from '../../../utils/baseURL';\n\n//action\nexport const createCategoryAction = createAsyncThunk(\n    'category/create',\n    async (category, {rejectWithValue, getState, dispatch}) => {\n        //get user token\n        const user = getState()?.users;\n        const {userAuth} = user;\n        const config = {\n            headers\n        }\n        //http call\n        try {\n            const {data} = await axios.post(`${baseUrl}/api/category`, {\n                title: category?.title,\n            });\n        } catch (error) {\n            if (!error?.response) {\n                throw error;\n            }\n            return rejectWithValue(error?.response?.data);\n        }\n    }\n);\n\n//slices\nconst categorySlices = createSlice({\n    name: 'category',\n    initialState: {category: 'Node.js'},\n    extraReducers: (builder)=> {\n        builder.addCase(createCategoryAction.pending, (state, action) => {\n            state.loading = true;\n        });\n        builder.addCase(createCategoryAction.fulfilled, (state, action)=> {\n            state.category = action?.payload;\n            state.loading = false;\n            state.appErr = undefined;\n            state.serverErr = undefined;\n        });\n        builder.addCase(createCategoryAction.rejected, (state, action)=> {\n            state.loading = false;\n            state.appErr = action?.payload?.message;\n            state.serverErr = action?.error?.message;\n        });\n    }\n});\n\nexport default categorySlices.reducer;\n"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,WAA1B,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,wBAAxB,C,CAEA;;AACA,OAAO,MAAMC,oBAAoB,GAAGJ,gBAAgB,CAChD,iBADgD,EAEhD,OAAOK,QAAP,WAA2D;EAAA;;EAAA,IAA1C;IAACC,eAAD;IAAkBC,QAAlB;IAA4BC;EAA5B,CAA0C;EACvD;EACA,MAAMC,IAAI,gBAAGF,QAAQ,EAAX,8CAAG,UAAYG,KAAzB;EACA,MAAM;IAACC;EAAD,IAAaF,IAAnB;EACA,MAAMG,MAAM,GAAG;IACXC;EADW,CAAf,CAJuD,CAOvD;;EACA,IAAI;IACA,MAAM;MAACC;IAAD,IAAS,MAAMZ,KAAK,CAACa,IAAN,CAAY,GAAEZ,OAAQ,eAAtB,EAAsC;MACvDa,KAAK,EAAEX,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEW;IADsC,CAAtC,CAArB;EAGH,CAJD,CAIE,OAAOC,KAAP,EAAc;IAAA;;IACZ,IAAI,EAACA,KAAD,aAACA,KAAD,eAACA,KAAK,CAAEC,QAAR,CAAJ,EAAsB;MAClB,MAAMD,KAAN;IACH;;IACD,OAAOX,eAAe,CAACW,KAAD,aAACA,KAAD,0CAACA,KAAK,CAAEC,QAAR,oDAAC,gBAAiBJ,IAAlB,CAAtB;EACH;AACJ,CApB+C,CAA7C,C,CAuBP;;AACA,MAAMK,cAAc,GAAGlB,WAAW,CAAC;EAC/BmB,IAAI,EAAE,UADyB;EAE/BC,YAAY,EAAE;IAAChB,QAAQ,EAAE;EAAX,CAFiB;EAG/BiB,aAAa,EAAGC,OAAD,IAAY;IACvBA,OAAO,CAACC,OAAR,CAAgBpB,oBAAoB,CAACqB,OAArC,EAA8C,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC7DD,KAAK,CAACE,OAAN,GAAgB,IAAhB;IACH,CAFD;IAGAL,OAAO,CAACC,OAAR,CAAgBpB,oBAAoB,CAACyB,SAArC,EAAgD,CAACH,KAAD,EAAQC,MAAR,KAAkB;MAC9DD,KAAK,CAACrB,QAAN,GAAiBsB,MAAjB,aAAiBA,MAAjB,uBAAiBA,MAAM,CAAEG,OAAzB;MACAJ,KAAK,CAACE,OAAN,GAAgB,KAAhB;MACAF,KAAK,CAACK,MAAN,GAAeC,SAAf;MACAN,KAAK,CAACO,SAAN,GAAkBD,SAAlB;IACH,CALD;IAMAT,OAAO,CAACC,OAAR,CAAgBpB,oBAAoB,CAAC8B,QAArC,EAA+C,CAACR,KAAD,EAAQC,MAAR,KAAkB;MAAA;;MAC7DD,KAAK,CAACE,OAAN,GAAgB,KAAhB;MACAF,KAAK,CAACK,MAAN,GAAeJ,MAAf,aAAeA,MAAf,0CAAeA,MAAM,CAAEG,OAAvB,oDAAe,gBAAiBK,OAAhC;MACAT,KAAK,CAACO,SAAN,GAAkBN,MAAlB,aAAkBA,MAAlB,wCAAkBA,MAAM,CAAEV,KAA1B,kDAAkB,cAAekB,OAAjC;IACH,CAJD;EAKH;AAlB8B,CAAD,CAAlC;AAqBA,eAAehB,cAAc,CAACiB,OAA9B"},"metadata":{},"sourceType":"module"}